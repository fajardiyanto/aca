<!DOCTYPE html>
<html>
  <head>
    <title>{{ .title }}</title>
    <link type="text/css" rel="stylesheet" href="/assets/css/main.css" />
    <script src="/assets/js/main.js"></script>
    <meta
      name="viewport"
      content="width = device-width, initial-scale = 1, shrink-to-fit=no"
    />

    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
      integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="
https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css
"
    />
  </head>
  <body>
    <div id="side-nav">
      <nav class="navbar navbar-light bg-primary">
        <div class="container-fluid">
          <a class="navbar-brand">Navbar</a>
          <button
            class="btn btn-primary"
            id="sidebar-toggle"
            data-toggle="collapse"
            data-target="#sidebar"
          >
            Toggle Sidebar
          </button>

          <div class="d-flex mr-lg-5">
            <div class="btn-group">
              <a
                class="btn dropdown-toggle text-white"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                <span class="fa fa-user fa-md text-white"></span>
              </a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="#">Logout</a>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div
        id="sidebar"
        class="side-nav fixed-top flex-nowrap flex-column justify-content-start align-items-center bg-primary collapse"
      >
        <div class="list-group w-100">
          <a
            href="/home"
            class="list-group-item d-flex justify-content-start align-items-center bg-primary"
          >
            <span class="fas fa-house-damage fa-lg text-white"></span>
            <span class="align-top side-options text-white">Main</span>
          </a>
          <div class="collapsable">
            <a
              id="permit"
              class="list-group-item d-flex justify-content-start align-items-center bg-primary"
              data-toggle="collapse"
              href="#opciones-proyecto"
              onclick="openClose('permit-icon','permit')"
            >
              <span class="fas fa-project-diagram fa-lg text-white"></span>
              <span class="align-top side-options text-white">Permit</span>
              <span
                id="permit-icon"
                class="fa fa-plus fa-xs text-white"
                style="margin-left: auto"
              ></span>
            </a>

            <div id="opciones-proyecto" class="collapse">
              <a
                class="list-group-item collapse d-flex justify-content-start align-items-center bg-primary tree"
                href="/list/permit"
              >
                <span class="fa fa-bars fa-md text-white"></span>
                <span
                  class="align-top side-options text-white"
                  style="padding-left: 6px"
                  >List Permit</span
                >
              </a>
              <a
                class="list-group-item collapse d-flex justify-content-start align-items-center bg-primary tree"
                href="/create/permit"
              >
                <span class="fa fa-plus-square fa-md text-white"></span>
                <span
                  class="align-top side-options text-white"
                  style="padding-left: 6px"
                  >Create Permit</span
                >
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    {{ template "content" . }}

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="
https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js
"></script>

    <script>
      //   function toggleSidebar(parent) {
      //     document.getElementById(parent).classList.add("show");
      //     if (parent === "sidebar-toggle") {
      //       let aux = document.getElementById("sidebar-toggle");
      //       if (aux.classList.contains("show")) {
      //         aux.classList.remove("show");
      //         aux.click();
      //       }
      //     } else {
      //       document.getElementById(parent).classList.remove("show");
      //     }
      //   }

      $(document).ready(function () {
        let currentPath = document.location.pathname;

        blockListPath = ["/generate/permit", "/login"];
        $.each(blockListPath, function (index, value) {
          if (currentPath == value) {
            var element = document.getElementById("side-nav");
            element.classList.add("d-none");
          }
        });
      });
    </script>
  </body>
</html>
